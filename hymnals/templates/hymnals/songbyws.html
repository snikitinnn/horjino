{% extends 'base.html' %}
{% load staticfiles %}

{% block content %}
<h2>{{ chorus.name }}</h2>
<h3>{{ topic.name }}</h3>


 <style>
 #verticalRow {
     -webkit-transform: rotate(270deg); /* разворот текста для разных браузеров */
     -moz-transform: rotate(270deg);
     -ms-transform: rotate(270deg);
     -o-transform: rotate(270deg);
     transform: rotate(270deg);
     height: 80px;  /* высота блока */
     vertical-align: bottom;
}

table {

     table-layout: fixed; /* Фиксированная ширина ячеек */
     width: 100%; /* Ширина таблицы */
   }
   .col1 { width: 160px; }
   .coln { width: 20px; }

td {
     font-size: smaller;
     border: solid 1px #f4f4f4;
}
</style>

{% if ws_list %}
    <table>
        <col class="col1">
        <col span="9" class="coln">
        <tr>
            <td width="120px">Гимн/Дата</td>
            {% for ws in ws_list %}
                <td id="verticalRow" width="20px">{{ ws.Date|date:"j E" }}</td>
            {% endfor %}
        </tr>
        {% for song_row in song_table %}
        {% cycle 'row1' 'row2' as rowcolors silent %}
        <tr class={{rowcolors}}>
            {% for sws in song_row %}
                {% if forloop.first %}
                    <td width="200px">{{sws}}</td>
                {% else %}
                    {% if sws %}
                        {% if sws == 1 %}
                            <td width="20px" bgcolor="#FADADD"></td>
                        {% else %}
                            <td width="20px" bgcolor="{{tdcolor}}"></td>
                        {% endif %}
                    {% else %}
                        <td width="20px"></td>
                    {% endif%}
                {% endif%}
            {% endfor %}
        </tr>
        {% endfor %}
    </table>
{% else %}
    <p>Исполненных гимнов в базе нет.</p>
{% endif %}

    <br>
    <h4><a href="{% url 'hymnals:alphabet' 'n' %}">Алфавитный указатель всех гимнов в базе</a><br></h4>
    <hr>
    <h4><a href="{% url 'hymnals:ws' %}">Полный список богослужений</a></h4>


{% endblock content%}